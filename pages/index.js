import Head from 'next/head'
import styles from '../styles/Home.module.css'
import React, {useState,useEffect } from 'react';
import axios from "axios";

export default function Home() {
  const [defultaddFormList, setdefultaddFormList] = useState([])

  useEffect(() => {
    axios.post("https://h5.lantu7.cn/tbms/c/activities/page",
    {latitude: 30.184843,
    longitude: 120.159737,
    pageIndex: 1,
    pageSize: 20,
    type: 0}).then(data=>{
      console.log(data.data.data.data)
      setdefultaddFormList(data.data.data.data)
    });
  }, []);

  return (
    <div className={styles.container}>
      <Head>
        <title>聚合点餐</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main className={styles.main}>
        <div className={styles.grid}>
          <a href="https://h5.lantu7.cn" className={styles.card}>
            <h2>团小淘&nbsp;&nbsp;&nbsp;&rarr;</h2>
          </a>
          <a href="https://mt.jzybox.com" className={styles.card}>
            <h2>撸餐&nbsp;&nbsp;&nbsp;&nbsp;&rarr;</h2>
          </a>
          <a
            href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx220b4cd96a0c4e8f&redirect_uri=https%3A%2F%2Fgw.djtaoke.cn%2Fauth%2F10%2Fuserinfo%2F1%2Findex%2F0%2F1647414024556%3Frouter%3Dupper%253D61788069%2526t%253D727786&response_type=code&scope=snsapi_userinfo&state=9d3a0b6b9a4d8503d7c6181e57e6669b&connect_redirect=1#wechat_redirect"
            className={styles.card}
          >
            <h2>小蚕芸 &rarr;</h2>
          </a>
          <a
            href="https://bwc.jiulingtech.tech"
            className={styles.card}
          >
            <h2>霸王慧 &rarr;</h2>
          </a>
          <a
              href="https://www.nbjiazhi.top"
              className={styles.card}
          >
            <h2>饱饱生活&rarr;</h2>
          </a>
          <a
              href="https://www.xxh-life.com"
              className={styles.card}
          >
            <h2>晓晓优选 &rarr;</h2>
          </a>
          <a
              href="https://h5.bchibhe.com"
              className={styles.card}
          >
            <h2>白吃白喝 &rarr;</h2>
          </a>
          <a
              href="https://vip.cchll.cn"
              className={styles.card}
          >
            <h2>吃撑黄绿&rarr;</h2>
          </a>
          <a
              href="https://m.bwyc168.com"
              className={styles.card}
          >
            <h2>霸王用餐CQ &rarr;</h2>
          </a>
        </div>
        {
          defultaddFormList.map(item=>(
              <div key={item.id} className={styles.merchant_box} onClick={()=>{
                location.href =`https://h5.lantu7.cn/#/pages/details/details?id=${item.id}&lon=120.160427&lat=30.184785&type=0`
              }
              }>
                <img className={styles.logo} src={`https://h5.lantu7.cn/${item.logo}`} alt="logo"/>
                <div className={styles.content}>
                  <div>{item.businessName}</div>
                  <div>{item.distance}米</div>
                  <div>满{item.taskRuleUp}返{item.taskRuleReturn}</div>
                  <div>{item.comment}</div>
                  <div>剩余名额：{item.remainderJoinQuota}</div>
                </div>
              </div>
          ))
        }
      </main>
    </div>
  )
}
